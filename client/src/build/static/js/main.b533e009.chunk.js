(this["webpackJsonpmern-auth-client"]=this["webpackJsonpmern-auth-client"]||[]).push([[0],{159:function(e,t,c){},160:function(e,t,c){},182:function(e,t,c){},203:function(e,t,c){},214:function(e,t,c){},217:function(e,t,c){},218:function(e,t,c){},219:function(e,t,c){},220:function(e,t,c){},221:function(e,t,c){},224:function(e,t,c){},225:function(e,t,c){},226:function(e,t,c){},227:function(e,t,c){"use strict";c.r(t);var n=c(2),o=c.n(n),a=c(52),s=c.n(a),r=(c(182),c(5)),l=c(4),i=c(8),j=c(29),d=c(22),b=c(114),u=c(7),h=c.n(u),p=function(e){e?(h.a.defaults.headers.common.Authorization=e,console.log("HEADERS ==>",h.a.defaults.headers.common)):delete h.a.defaults.headers.common.Authorization},O=(c(202),c(203),c(1)),x=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],o=t[1],a=Object(n.useState)(""),s=Object(r.a)(a,2),l=s[0],i=s[1],d=Object(n.useState)("pfp"),b=Object(r.a)(d,2),u=b[0],p=(b[1],Object(n.useState)("add a bio!")),x=Object(r.a)(p,2),g=x[0],m=(x[1],Object(n.useState)("")),f=Object(r.a)(m,2),v=f[0],y=f[1],k=Object(n.useState)(""),w=Object(r.a)(k,2),S=w[0],C=w[1],I=Object(n.useState)(!1),N=Object(r.a)(I,2),R=N[0],T=N[1],E=Object(j.g)();var F=function(e){if(e.preventDefault(),v===S&&v.length>=8){var t={name:c,image:u,email:l,bio:g,password:v};h.a.post("".concat("https://spiel-server.herokuapp.com","/users/signup"),t).then((function(e){console.log("===> Yay, new user"),console.log(e),T(!0)})).catch((function(e){return console.log("===> Error in Signup",e)}))}else{if(v!==S)return alert("Passwords don't match");alert("Password needs to be at least 8 characters. Please try again.")}};return R?Object(O.jsx)(j.a,{to:"/login"}):Object(O.jsx)("div",{className:"row mt-4",children:Object(O.jsx)("div",{className:"col-md-7 offset-md-3",children:Object(O.jsxs)("div",{className:"card card-body",children:[Object(O.jsx)("h2",{className:"py-2",children:"Signup"}),Object(O.jsxs)("form",{onSubmit:F,children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Name"}),Object(O.jsx)("input",{type:"text",name:"name",value:c,onChange:function(e){o(e.target.value)},className:"form-control"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",name:"email",value:l,onChange:function(e){i(e.target.value)},className:"form-control"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",name:"password",value:v,onChange:function(e){y(e.target.value)},className:"form-control"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(O.jsx)("input",{type:"password",name:"confirmPassword",value:S,onChange:function(e){C(e.target.value)},className:"form-control"})]}),Object(O.jsx)("input",{onClick:F,type:"submit",className:"btn btn-primary float-right",value:"Submit"}),Object(O.jsx)("input",{onClick:function(){E.push("/login")},type:"button",className:"btn btn-primary float-right",value:"Login"})]})]})})})},g=function(e){var t=Object(n.useState)(""),c=Object(r.a)(t,2),o=c[0],a=c[1],s=Object(n.useState)(""),l=Object(r.a)(s,2),i=l[0],d=l[1],u=Object(j.g)();return e.user?Object(O.jsx)(j.a,{to:"/profile"}):Object(O.jsx)("div",{className:"row mt-4",children:Object(O.jsx)("div",{className:"col-md-7 offset-md-3",children:Object(O.jsxs)("div",{className:"card card-body",children:[Object(O.jsx)("h2",{className:"py-2",children:"Login"}),Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={email:o,password:i};h.a.post("".concat("https://spiel-server.herokuapp.com","/users/login"),c).then((function(t){var c=t.data.token;localStorage.setItem("jwtToken",c),p(c);var n=Object(b.a)(c);e.nowCurrentUser(n)})).catch((function(e){console.log("===> Error on login",e),alert("Either email or password is incorrect. Please try again")}))},children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",name:"email",value:o,onChange:function(e){a(e.target.value)},className:"form-control"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",name:"password",value:i,onChange:function(e){d(e.target.value)},className:"form-control"})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary float-right",children:"Submit"}),Object(O.jsx)("input",{onClick:function(){u.push("/signup")},type:"button",className:"btn btn-primary float-right",value:"Signup"})]})]})})})},m=c(16),f=c(262),v=c(21),y=c(25),k=c(23),w=c(27),S=c(260),C=c(266),I=c(265),N=c(120),R="https://spiel-server.herokuapp.com";var T=function(e){var t=Object(n.useState)("loading..."),c=Object(r.a)(t,2),o=c[0],a=c[1],s=Object(n.useState)("loading..."),l=Object(r.a)(s,2),i=l[0],j=l[1],d=Object(n.useState)("loading..."),b=Object(r.a)(d,2),u=b[0],x=b[1],g=Object(n.useState)("loading..."),T=Object(r.a)(g,2),E=T[0],F=T[1],P=Object(n.useState)("loading..."),D=Object(r.a)(P,2),L=D[0],z=D[1],B=e.id,G=Object(n.useState)(""),U=Object(r.a)(G,2),A=U[0],H=U[1],M=Object(n.useState)(""),W=Object(r.a)(M,2),Y=W[0],_=W[1],J=Object(n.useState)(""),Z=Object(r.a)(J,2),q=Z[0],K=Z[1],Q=Object(n.useState)(!1),V=Object(r.a)(Q,2),X=V[0],$=V[1],ee=function(){return $(!1)},te=Object(n.useState)("/static/images/avatar/5.jpg"),ce=Object(r.a)(te,2),ne=ce[0];return ce[1],Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(R,"/users/").concat(B)).then((function(e){var t=e.data.user.name;j(e.data.user.bio),a(e.data.user.name),x(e.data.user.email),console.log("ayeee",e),h.a.get("".concat(R,"/users/followers/").concat(t)).then((function(e){var c=e.data.UserFollowers.length;F(c),h.a.get("".concat(R,"/users/following/").concat(t)).then((function(e){var t=e.data.UserFollowing.length;z(t)}))}))})).catch((function(e){return console.log("===> Error",e)}))}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)(m.a,{style:{position:"fixed",top:"11vh",left:"70%",width:"25rem",height:"450px",padding:"10px",border:"solid black"},children:Object(O.jsxs)(m.a.Body,{children:[Object(O.jsxs)(S.a,{children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(f.a,{alt:"Profile Picture",src:ne})}),Object(O.jsx)(C.a,{primary:o,secondary:u})]}),Object(O.jsx)(m.a.Text,{children:i}),Object(O.jsxs)(v.a,{children:[Object(O.jsx)(v.a.Toggle,{variant:"none",id:"dropdown-basic",children:Object(O.jsx)(N.b,{})}),Object(O.jsxs)(v.a.Menu,{children:[Object(O.jsx)(v.a.Item,{onClick:function(){return $(!0)},children:"Edit Info"}),Object(O.jsx)(v.a.Item,{children:"See Settings"})]})]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(C.a,{primary:"followers",secondary:E}),Object(O.jsx)(C.a,{primary:"following",secondary:L})]})]})}),Object(O.jsxs)(w.a,{show:X,onHide:ee,children:[Object(O.jsx)(w.a.Header,{closeButton:!0,children:Object(O.jsx)(w.a.Title,{children:"Editing Spiel"})}),Object(O.jsx)(w.a.Body,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(O.jsx)(k.a.Label,{children:"New Name"}),Object(O.jsx)(k.a.Control,{onChange:function(e){H(e.target.value)},value:o,type:"Name",placeholder:"Enter Name"})]}),Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(O.jsx)(k.a.Label,{children:"New Email"}),Object(O.jsx)(k.a.Control,{onChange:function(e){K(e.target.value)},value:u,type:"Email",placeholder:"Enter Email"})]}),Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(O.jsx)(k.a.Label,{children:"New Bio"}),Object(O.jsx)(k.a.Control,{onChange:function(e){console.log(e.target.value),_(e.target.value)},value:i,placeholder:"Enter Bio"})]})]})}),Object(O.jsxs)(w.a.Footer,{children:[Object(O.jsx)(y.a,{variant:"secondary",onClick:ee,children:"Close"}),Object(O.jsx)(y.a,{variant:"primary",onClick:function(){a(A),j(Y),x(q);var e={name:o,bio:i,email:u};p(localStorage.getItem("jwtToken")),h.a.put("".concat(R,"/users/").concat(B),e).then((function(e){console.log(e),console.log(" updated ===>",e)})).catch((function(e){return console.log("===> Error",e)}))},children:"Save Changes"})]})]})]})},E=c(126),F=c(143);var P=function(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),o=c[0],a=c[1],s=e.id,l=Object(j.g)();return Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat("https://spiel-server.herokuapp.com","/users/").concat(s,"/group")).then((function(e){console.log("response.data.groups",e),a(e.data.FoundGroup)})).catch((function(e){console.log("****************ERROR",e)}))}),[]),Object(O.jsx)("div",{children:Object(O.jsxs)(F.a,{as:"ol",numbered:!0,style:{width:"300px",position:"fixed",top:"25vh",right:"10%",cursor:"pointer"},children:[Object(O.jsx)("h1",{children:"My Groups"}),null===o||void 0===o?void 0:o.map((function(e){return Object(O.jsxs)(F.a.Item,{style:{border:"solid black"},as:"li",onClick:function(t){return function(e){l.push("/group/".concat(e))}(e._id)},className:"d-flex justify-content-between align-items-start",children:[Object(O.jsx)("div",{className:"ms-2 me-auto",children:Object(O.jsxs)("div",{className:"fw-bold",children:[" ",e.groupName]})}),Object(O.jsx)(E.a,{bg:"primary",pill:!0,children:"14"})]})}))]})})},D=c(163),L=c(63),z=c(169);var B=function(e){var t=e.likeFeed,c=e.regularFeed,n=e.commentFeed,o=e.followersFeed,a=e.followingFeed,s=e.groupFeed,r=e.bookmarkFeed,l=e.name,i=e.selectedFeed;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{style:{position:"relative",display:"flex",justifyContent:"center",top:"6.5vh"},children:Object(O.jsxs)(m.a,{style:{borderRadius:"0px",border:"1.8px solid black"},children:[Object(O.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"column",top:"-25px"},children:[Object(O.jsx)("div",{style:{display:"flex"},children:Object(O.jsx)(f.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",style:{marginRight:"5px",zIndex:"20"}})}),Object(O.jsx)(m.a.Title,{children:l}),Object(O.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:"email"}),Object(O.jsx)(m.a.Text,{children:" bio "})]}),Object(O.jsx)(z.a,{bg:"dark",variant:"dark",style:{width:"33vw"},children:Object(O.jsx)(D.a,{children:Object(O.jsxs)(L.a,{className:"me-auto",children:[Object(O.jsx)(L.a.Link,{onClick:c,children:" posts"}),Object(O.jsx)(L.a.Link,{onClick:t,children:"likes"}),Object(O.jsx)(L.a.Link,{onClick:n,children:"comments"}),Object(O.jsx)(L.a.Link,{onClick:o,children:"followers"}),Object(O.jsx)(L.a.Link,{onClick:a,children:"following"}),Object(O.jsx)(L.a.Link,{onClick:s,children:"groups"}),"/profile"==window.location.pathname?Object(O.jsx)(L.a.Link,{onClick:r,children:"bookmarks"}):null]})})}),Object(O.jsx)(m.a,{style:{borderRadius:"0px",display:"flex",alignItems:"center"},children:Object(O.jsx)(m.a.Title,{children:i})})]})})})};c(214);function G(){return Object(O.jsx)("div",{class:"like-content",children:Object(O.jsxs)("button",{class:"btn-secondary like-review",children:[Object(O.jsx)("i",{class:"fa fa-heart","aria-hidden":"true"})," Comment"]})})}function U(){return Object(O.jsx)("div",{class:"like-content",children:Object(O.jsxs)("button",{class:"btn-secondary like-review",children:[Object(O.jsx)("i",{class:"fa fa-heart","aria-hidden":"true"})," Like"]})})}c(159);function A(){return Object(O.jsx)("div",{class:"like-content",children:Object(O.jsxs)("button",{class:"btn-secondary like-review",children:[Object(O.jsx)("i",{class:"fa fa-heart","aria-hidden":"true"})," follow"]})})}c(160);function H(){return Object(O.jsx)("div",{class:"like-content",children:Object(O.jsxs)("button",{class:"btn-secondary like-review",children:[Object(O.jsx)("i",{class:"fa fa-heart","aria-hidden":"true"})," unfollow"]})})}var M=c(32),W=function(){var e=Object(j.g)();return Object(O.jsx)("div",{style:{backgroundColor:"white",zIndex:"1",opacity:"90%",width:"33vw",height:"6vh",border:"2px solid black"},children:Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)("button",{style:{border:"none",backgroundColor:"white"},onClick:function(t){return e.push("/")},children:Object(O.jsx)(M.d,{})}),Object(O.jsx)("p",{style:{fontWeight:"bold",fontSize:"25px",marginLeft:"10px"},children:"Profile"})]})})},Y=function(e){var t=Object(n.useState)(e.user.image),c=Object(r.a)(t,2),o=(c[0],c[1],e.handleLogout),a=e.user,s=a.name,l=a.id,i=a.email,d=a.exp,b=Object(n.useState)(),u=Object(r.a)(b,2),x=u[0],g=u[1],v=Object(n.useState)(),k=Object(r.a)(v,2),w=k[0],S=k[1],C=Object(n.useState)(),I=Object(r.a)(C,2),N=I[0],R=I[1],E=Object(n.useState)([]),F=Object(r.a)(E,2),D=(F[0],F[1]),L=Object(n.useState)([]),z=Object(r.a)(L,2),Y=(z[0],z[1]),_=Object(n.useState)([]),J=Object(r.a)(_,2),Z=J[0],q=J[1],K=Object(j.g)(),Q=new Date(1e3*d),V="https://spiel-server.herokuapp.com",X=Date.now();Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(V,"/users/").concat(l,"/spiels")).then((function(e){q(e.data.Spiels),g("My Posts"),console.log("response.data",e.data.Spiels),console.log("profile feed",Z),h.a.get("".concat(V,"/users/followers/").concat(s)).then((function(e){var t=e.data.UserFollowers;D(t);var c=e.data.UserFollowers.length;h.a.get("".concat(V,"/users/following/").concat(s)).then((function(e){var t=e.data.UserFollowing;Y(t);var n=e.data.UserFollowing.length;S(Object(O.jsx)(T,{style:{position:"absolute"},name:s,email:i,id:l,followingNumber:n,followersNumber:c})),R(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:ee,children:[Object(O.jsx)(U,{}),te]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]}))}))})).catch((function(e){console.log("****************ERROR",e)}))}))}),[]);var $=function(e){h.a.put("".concat(V,"/users/").concat(s,"/follow/").concat(e)).then((function(e){console.log(e),console.log(" updated ===>",e)})).catch((function(e){return console.log("===> Error",e)}))};X>=Q&&(o(),alert("Session has ended. Please login to continue."));var ee=function(){},te=function(){};return Object(O.jsxs)("div",{style:{position:"absolute",width:"100vw",left:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(W,{name:s}),Object(O.jsx)(B,{bookmarkFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(V,"/users/bookmarks/").concat(l)).then((function(e){var t=[];e.data.response.map((function(e){return t.push(e.spiel)})),q(t),console.log(Z)})),R(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:ee,children:[Object(O.jsx)(U,{}),te]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]})),g("Bookmarks")},selectedFeed:x,followingFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(V,"/users/following/").concat(s)).then((function(e){q(e.data.UserFollowing),g("Following"),R(Object(O.jsx)(y.a,{style:{background:"transparent",border:"none",position:"relative",left:"80%",bottom:"5rem"},onClick:function(t){return $(e.data.UserFollowers.name)},children:Object(O.jsx)(H,{})}))})).catch((function(e){console.log("****************ERROR",e)}))},groupFeed:function(e){p(localStorage.getItem("jwtToken")),h.a.get("".concat(V,"/users/groups/").concat(s,"/groups")).then((function(t){console.log(t),q(t.data.groups),g("groups"),R(Object(O.jsxs)(y.a,{style:{position:"relative",left:"90%",background:"transparent",border:"none",color:"#8b45d6",fontSize:"1.5rem",margin:"none"},onClick:function(t){return K.push("/group/group/".concat(e))},children:[Object(O.jsx)(M.a,{}),te]})),console.log("response.data",t.data.Spiels)})).catch((function(e){console.log("****************ERROR",e)}))},followersFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(V,"/users/followers/").concat(s)).then((function(e){console.log(e),q(e.data.UserFollowers),g("Followers"),R(Object(O.jsx)(y.a,{style:{background:"transparent",border:"none",position:"relative",left:"80%",bottom:"5rem"},onClick:function(t){return $(e.data.UserFollowers.name)},children:Object(O.jsx)(A,{})}))})).catch((function(e){console.log("****************ERROR",e)}))},name:s,regularFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(V,"/users/").concat(l,"/spiels")).then((function(e){q(e.data.Spiels),g("Posts"),console.log("response.data",e.data.Spiels),console.log("profile feed",Z),R(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:ee,children:[Object(O.jsx)(U,{}),te]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]}))})).catch((function(e){console.log("****************ERROR",e)}))},commentFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(V,"/comment/").concat(s)).then((function(e){q(e.data.comment),R(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:ee,children:[Object(O.jsx)(U,{}),te]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]})),g("Comments")})).catch((function(e){console.log("****************ERROR",e)}))},likeFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(V,"/users/likes/").concat(l)).then((function(e){q(e.data.Spiels),R(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:ee,children:[Object(O.jsx)(U,{}),te]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]})),g("Likes")})).catch((function(e){console.log("****************ERROR",e)}))},id:e.user.id}),Object(O.jsx)("div",{className:"home",children:Z?Z.map((function(e){return Object(O.jsxs)("div",{children:["  ",Object(O.jsx)(m.a,{className:"spielFeed",style:{position:"relative",border:"1.8px solid black",borderRadius:"0px",width:"33vw",height:"15vh"},children:Object(O.jsxs)(m.a.Body,{children:[Object(O.jsxs)("div",{style:{display:"flex",position:"relative",bottom:"8px"},children:[Object(O.jsx)(f.a,{style:{marginRight:"7.5px",marginBottom:"5px"},alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}),Object(O.jsx)(m.a.Title,{children:e.name?e.name:e.groupName})]}),Object(O.jsxs)(m.a.Subtitle,{style:{position:"relative",bottom:"8px"},className:"mb-2 text-muted",children:[e.group?e.group:e.users?e.users.length+" users":e.bio,"  "]}),Object(O.jsx)(m.a.Text,{style:{position:"relative",bottom:"8px",marginBottom:"15px"},children:e.following?Object(O.jsxs)("p",{style:{fontWeight:"bold"},children:["following: ",e.following.length," ",Object(O.jsx)("br",{}),"followers: ",e.followers.length]}):e.message?e.message:e.spiels?e.spiels.length+" spiels":Object(O.jsx)("p",{children:"nothing to see here yet!"})}),Object(O.jsx)("div",{style:{position:"relative",bottom:"30px"},children:N})]})})]})})):Object(O.jsx)("p",{children:'"nothing to see here yet!"'})}),Object(O.jsx)(P,{id:l}),w]})},_=c(268),J=c(257),Z=c(269),q=c(263),K=c(97),Q=c.n(K),V="https://spiel-server.herokuapp.com",X=function(e){var t=o.a.useState(!1),c=Object(r.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)(!1),i=Object(r.a)(l,2),d=i[0],b=i[1],u=Object(n.useState)(),x=Object(r.a)(u,2),g=x[0],N=(x[1],Object(n.useState)("")),R=Object(r.a)(N,2),T=R[0],E=R[1],F=Object(n.useState)(""),P=Object(r.a)(F,2),D=P[0],L=P[1],z=Object(n.useState)(0),B=Object(r.a)(z,2),H=(B[0],B[1],e.name),W=e.id,Y=e.username,K=Object(n.useState)(e.message),X=Object(r.a)(K,2),$=X[0],ee=(X[1],Object(n.useState)(e.group)),te=Object(r.a)(ee,2),ce=te[0],ne=te[1],oe=Object(n.useState)(),ae=Object(r.a)(oe,2),se=ae[0],re=ae[1],le=Object(n.useState)(""),ie=Object(r.a)(le,2),je=ie[0],de=ie[1],be=Object(n.useState)(""),ue=Object(r.a)(be,2),he=ue[0],pe=ue[1],Oe=Object(n.useState)(),xe=Object(r.a)(Oe,2),ge=xe[0],me=xe[1],fe=Object(n.useState)(),ve=Object(r.a)(fe,2),ye=ve[0],ke=ve[1],we=Object(n.useState)(""),Se=Object(r.a)(we,2),Ce=Se[0],Ie=Se[1],Ne=Object(n.useState)(),Re=Object(r.a)(Ne,2),Te=Re[0],Ee=Re[1],Fe=Object(n.useState)("/static/images/avatar/5.jpg"),Pe=Object(r.a)(Fe,2),De=Pe[0],Le=(Pe[1],e.spielID),ze=e.handleDelete,Be=Object(j.g)();function Ge(){var e={name:H,group:ce,message:$,spielID:Le};ke(Object(O.jsx)("button",{type:"button",onClick:Ue,style:{border:"none",backgroundColor:"white"},children:Object(O.jsx)(M.c,{style:{zIndex:"100",fontSize:"20px",position:"relative",left:"47%"}})})),h.a.put("".concat(V,"/users/bookmark/").concat(W,"/").concat(Le),e).then((function(e){console.log(e)}))}function Ue(){ke(Object(O.jsx)("button",{type:"button",onClick:Ge,style:{border:"none",backgroundColor:"white"},children:Object(O.jsx)(M.b,{style:{zIndex:"100",fontSize:"20px",position:"relative",left:"47%"}})})),h.a.put("".concat(V,"/users/remove/bookmark/").concat(W,"/").concat(Le)),h.a.delete("".concat(V,"/users/bookmark/remove/").concat(W,"/").concat(Le)).then((function(e){console.log("delete respone",e)}))}Object(n.useEffect)((function(){h.a.get("".concat(V,"/users/bookmarks/").concat(W)).then((function(e){var t=e.data.response;console.log("bookmark array",t);for(var c=0;c<(null===t||void 0===t?void 0:t.length);c++){if(console.log(t[c].spiel.spielID,Le),t[c].spiel.spielID==Le){console.log("match"),ke(Object(O.jsx)("button",{type:"button",onClick:Ue,style:{border:"none",backgroundColor:"white"},children:Object(O.jsx)(M.c,{style:{zIndex:"100",fontSize:"20px",position:"relative",left:"47%"}})}));break}console.log("names don't match")}})),ke(Object(O.jsx)("button",{type:"button",onClick:Ge,style:{border:"none",backgroundColor:"white"},children:Object(O.jsx)(M.b,{style:{zIndex:"100",fontSize:"20px",position:"relative",left:"47%"}})})),me(Object(O.jsx)(y.a,{style:{background:"transparent",border:"none"},onClick:Je,children:Object(O.jsx)(A,{})}))}),[]);var Ae=function(e){console.log(e.target.value);var t=e.target.value;console.log("val",t),pe(Object(O.jsx)(y.a,{variant:"primary",onClick:function(e){return _e(Y,H,Le,ce,t)},children:"Post Comment"})),console.log("new message",t)},He=function(e){console.log(e.target.value),E(e.target.value)},Me=function(e){e.preventDefault(),ze(Le)},We=function(){return b(!1)},Ye=function(e){ne(T);var t={name:H,group:ce,message:$};h.a.put("".concat(V,"/spiel/").concat(e),t).then((function(e){console.log(e),console.log(" updated ===>",e)}))},_e=function(e,t,c,n,o){var a={name:e,group:n,comment:o};p(localStorage.getItem("jwtToken")),console.log("a;sdljfjsdka",o),h.a.post("".concat(V,"/comment/").concat(c),a).then((function(n){s(!0),console.log(n),h.a.put("".concat(V,"/comment/").concat(c,"/comment")),console.log(" updated ===>",n);var o={likeCommentOrFollow:"comment",content:"commented on your post!"};h.a.post("".concat(V,"/notifications/").concat(e,"/").concat(t,"/").concat(c),o)})).catch((function(e){return console.log("===> Error",e)}))},Je=function(){h.a.put("".concat(V,"/users/").concat(Y,"/follow/").concat(H)).then((function(e){s(!0),console.log(e),console.log(" updated ===>",e);var t={likeCommentOrFollow:"follow",content:"followed you!"};h.a.post("".concat(V,"/notifications/").concat(Y,"/").concat(H,"/").concat(Le),t)})).catch((function(e){return console.log("===> Error",e)}))};return Object(O.jsxs)("div",{style:{position:"relative"},children:[Object(O.jsx)(_.a,{sx:{width:"100%"},children:Object(O.jsx)(q.a,{in:a,children:Object(O.jsx)(J.a,{action:Object(O.jsx)(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){s(!1)},children:Object(O.jsx)(Q.a,{fontSize:"inherit"})}),sx:{mb:2,zIndex:100,position:"absolute"},children:"Post Liked!"})})}),Object(O.jsxs)(m.a,{style:{cursor:"pointer",position:"relative",maxHeight:"500px",borderRadius:"0px",paddingLeft:"10px",border:"2px solid black"},children:[Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly"},children:[Object(O.jsxs)(v.a,{style:{left:"93%"},children:[Object(O.jsx)(v.a.Toggle,{variant:"failure",id:"dropdown-basic"}),Object(O.jsxs)(v.a.Menu,{children:[Object(O.jsx)(v.a.Item,{onClick:function(){Be.push("/spiel/post/".concat(Le))},children:"See Post"}),Object(O.jsx)(v.a.Item,{onClick:function(){b(!0),L("Editing"),Ee(Object(O.jsx)(k.a.Control,{onChange:He,type:"Group",placeholder:"Enter Group"})),pe(Object(O.jsx)(y.a,{variant:"primary",onClick:Ye,children:"Save Changes"})),Ie(Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(O.jsx)(k.a.Label,{children:"Message"}),Object(O.jsx)(k.a.Control,{onChange:function(e){return function(e){console.log(e.target.value),console.log(e),console.log("new message",g)}(e)},type:"Message",placeholder:"Enter Message"})]})),de("group")},children:"Edit"}),Y==H?Object(O.jsx)(v.a.Item,{onClick:Me,children:"Delete"}):void 0]})]}),ye]}),Object(O.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"column",top:"-25px"},children:[Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(f.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",onClick:function(){Y==H?Be.push("/profile"):Be.push("users/".concat(H))},style:{marginRight:"5px"}}),function(e){h.a.get("".concat(V,"/users/following/").concat(Y)).then((function(t){for(var c=t.data.UserFollowing,n=0;n<(null===c||void 0===c?void 0:c.length);n++){if(c[n].name==e){me(!1);break}if(e==Y){me(!1);break}console.log("names don't match")}}))}(H),ge]}),Object(O.jsx)(m.a.Title,{children:H}),Object(O.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:ce}),Object(O.jsxs)(m.a.Text,{children:[" ",$," "]})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:function(e){return function(e){h.a.put("".concat(V,"/spiel/").concat(e,"/like")).then((function(t){s(!0),console.log(t),console.log(" updated ===>",t);var c={likeCommentOrFollow:"like",content:"liked your post!"};h.a.post("".concat(V,"/notifications/").concat(Y,"/").concat(H,"/").concat(e),c),h.a.put("".concat(V,"/users/").concat(Y,"/likes/").concat(e)).then((function(e){console.log(e)}))})).catch((function(e){return console.log("===> Error",e)}))}(Le)},children:[Object(O.jsx)(U,{}),function(e){return h.a.get("".concat(V,"/spiel/").concat(e)).then((function(e){re(e.data.spiel.likes)})).catch((function(e){return console.log("===> Error",e)})),Object(O.jsx)("p",{style:{color:"black",bottom:"20px",left:"5%",position:"absolute"},children:se})}(Le)]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:function(){b(!0),L("Commenting"),Ee(Object(O.jsxs)(S.a,{children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(f.a,{alt:"Profile Picture",src:De})}),Object(O.jsx)(C.a,{primary:H,secondary:ce}),Object(O.jsx)(C.a,{secondary:$})]})),Ie(Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(O.jsx)(k.a.Label,{children:"Message"}),Object(O.jsx)(k.a.Control,{onChange:Ae,type:"Message",placeholder:"Enter Message"})]})),de("Post:")},children:[" ",Object(O.jsx)(G,{})," "]})]})]}),Object(O.jsxs)(w.a,{show:d,onHide:We,children:[Object(O.jsx)(w.a.Header,{closeButton:!0,children:Object(O.jsx)(w.a.Title,{children:D})}),Object(O.jsx)(w.a.Body,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)("h1",{children:Y}),Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(O.jsx)(k.a.Label,{children:je}),Te]}),Ce]})}),Object(O.jsxs)(w.a.Footer,{children:[Object(O.jsx)(y.a,{variant:"secondary",onClick:We,children:"Close"}),he]})]})]})},$=(c(217),function(e){var t=e.followingFeed;e.forYouFeed;return Object(O.jsxs)("div",{style:{position:"fixed",backgroundColor:"white",zIndex:"1",opacity:"90%",width:"29.9vw",top:"0%",border:"2px solid black"},children:[Object(O.jsx)("p",{style:{fontWeight:"bold",fontSize:"25px",marginLeft:"10px"},children:"Home"}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(O.jsx)("button",{class:"childx",style:{width:"50rem",height:"36px",fontSize:"20px",fontWeight:"bold",cursor:"pointer"},children:"for you"}),Object(O.jsx)("button",{class:"childy",onClick:t,style:{width:"50rem",fontSize:"20px",height:"36px",fontWeight:"bold",cursor:"pointer"},children:"following"})]})]})}),ee="https://spiel-server.herokuapp.com",te=function(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),o=c[0],a=c[1],s=Object(n.useState)(e.name),l=Object(r.a)(s,2),i=l[0],d=(l[1],e.id),b=Object(n.useState)("/static/images/avatar/5.jpg"),u=Object(r.a)(b,2),x=u[0],g=(u[1],Object(n.useState)("")),m=Object(r.a)(g,2),y=m[0],k=m[1],w=Object(n.useState)(""),N=Object(r.a)(w,2),R=N[0],T=N[1],E=Object(n.useState)(["nothing to see here yet!"]),F=Object(r.a)(E,2),P=F[0],D=F[1],L=Object(j.g)();function z(e){console.log("func 1"),e.preventDefault();var t={name:i,group:R,message:y};p(localStorage.getItem("jwtToken")),h.a.post("".concat(ee,"/spiel"),t).then((function(e){console.log("===> Yay, new spiel",t);var c=e.data.spielID;console.log("data",c),h.a.put("".concat(ee,"/group/").concat(R,"/spiels/").concat(c),t).then((function(e){console.log("responseY",e),h.a.put("".concat(ee,"/users/").concat(d,"/spiels/").concat(c),t)})).then((function(e){var t;console.log(e),console.log("my iddddddddddd",d),t=c,L.push("/spiel/post/".concat(t))})).catch((function(e){return console.log("===> Error",e)}))})).catch((function(e){return console.log("===> Error",e)}))}Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(ee,"/group")).then((function(e){a(e.data.group)})).catch((function(e){console.log("****************ERROR",e)}))}),[]),Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(ee,"/spiel")).then((function(e){D(e.data.spiel),console.log(P)})).catch((function(e){console.log("****************ERROR",e)}))}),[]);var B=function(e){p(localStorage.getItem("jwtToken")),h.a.delete("".concat(ee,"/spiel/").concat(e)).then((function(e){console.log(" deleted ===>",e),D(e.data.spiel)})).catch((function(e){return console.log("===> Error",e)}))};return Object(O.jsxs)("div",{children:[Object(O.jsx)($,{followingFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(ee,"/users/following/").concat(i)).then((function(e){var t=[],c=[];e.data.UserFollowing.map((function(e){return e.spiels.map((function(e){return t.push(e)}))})),t.map((function(e){return h.a.get("".concat(ee,"/spiel/").concat(e)).then((function(e){null!=e.data.spiel&&(c.push(e.data.spiel),D(c))}))})),console.log("feed after set",P)})).catch((function(e){console.log("****************ERROR",e)}))}}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"card card-body",style:{borderRadius:"0px",border:"3px solid black"},children:Object(O.jsxs)("form",{onSubmit:z,children:[Object(O.jsx)("div",{className:"form-group",children:Object(O.jsxs)(S.a,{children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(f.a,{alt:"Profile Picture",src:x})}),Object(O.jsx)(C.a,{primary:i,secondary:Object(O.jsxs)(v.a,{children:["select a group",Object(O.jsx)(v.a.Toggle,{variant:"failure",id:"dropdown-basic",children:" "}),Object(O.jsxs)(v.a.Menu,{children:[Object(O.jsx)("input",{list:"data",value:R,onChange:function(e){return T(e.target.value)},placeholder:"Search Groups"}),Object(O.jsx)("datalist",{id:"data",children:o.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)("option",{children:e.groupName})})}))})]})]})}),Object(O.jsx)(C.a,{secondary:"group selected: ".concat(R)})]})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"message",name:"message",value:y,onChange:function(e){k(e.target.value)},className:"form-control"})}),Object(O.jsx)("input",{onClick:function(e){!function(e){console.log("func 2"),e.preventDefault();var t={name:i,group:R,message:y};p(localStorage.getItem("jwtToken")),h.a.put("".concat(ee,"/users/").concat(d,"/spiels"),t).then((function(e){console.log("===> Yay, new spiel",t),console.log(e),D(e.data)})).catch((function(e){return console.log("===> Error",e)}))}(e),z(e)},type:"submit",className:"btn btn-primary float-right",value:"spiel",style:{borderRadius:"110px",fontWeight:"bold"}})]})})})}),null===P||void 0===P?void 0:P.map((function(e,t){return Object(O.jsx)(X,{handleDelete:B,id:d,username:i,spielID:e._id,name:e.name,message:e.message,group:e.group},t)}),console.log(P))]})},ce=(c(218),function(e){var t=e.user,c=t.name,n=t.id,o=t.email;return Object(O.jsxs)("div",{className:"home",children:[Object(O.jsx)("div",{className:"spielFeed",children:Object(O.jsx)(te,{name:c,id:n})}),Object(O.jsx)(T,{name:c,email:o,id:n})]})}),ne=(c(219),function(e){var t=Object(n.useState)(!1),c=Object(r.a)(t,2),o=c[0],a=c[1],s=Object(n.useState)(""),l=Object(r.a)(s,2),i=l[0],j=l[1],d=Object(n.useState)(""),b=Object(r.a)(d,2),u=b[0],x=b[1],g=Object(n.useState)(e.groupFeed),m=Object(r.a)(g,2),f=(m[0],m[1]),v=function(){return a(!1)};return Object(O.jsxs)("div",{style:{position:"fixed",backgroundColor:"white",zIndex:"1",opacity:"90%",width:"30vw",border:"2px solid black",top:"0px"},children:[Object(O.jsxs)(w.a,{show:o,onHide:v,children:[Object(O.jsx)(w.a.Header,{closeButton:!0,children:Object(O.jsx)(w.a.Title,{children:"New Group"})}),Object(O.jsxs)(w.a.Body,{children:["    ",Object(O.jsxs)(k.a,{children:[Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(O.jsx)(k.a.Label,{children:"Group Name"}),Object(O.jsx)(k.a.Control,{onChange:function(e){j(e.target.value)},type:"email",placeholder:"New Group"})]}),Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(O.jsx)(k.a.Label,{children:"Group Description"}),Object(O.jsx)(k.a.Control,{onChange:function(e){x(e.target.value)},as:"textarea",rows:3})]})]})]}),Object(O.jsxs)(w.a.Footer,{children:[Object(O.jsx)(y.a,{variant:"secondary",onClick:v,children:"Close"}),Object(O.jsx)(y.a,{variant:"secondary",onClick:function(e){e.preventDefault();var t={groupName:i,description:u};p(localStorage.getItem("jwtToken")),h.a.post("".concat("https://spiel-server.herokuapp.com","/group"),t).then((function(e){console.log("===> Yay, new spiel",t),console.log(e),f(e.data.group)})).catch((function(e){return console.log("===> Error",e)}))},children:"Submit"})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{style:{fontWeight:"bold",fontSize:"25px",marginLeft:"10px"},children:"Groups"}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(O.jsx)("button",{class:"childx",style:{width:"50rem",height:"36px",fontSize:"20px",fontWeight:"bold",cursor:"pointer"},children:"for you"}),Object(O.jsx)("button",{onClick:function(){return a(!0)},class:"childx",style:{width:"50rem",height:"36px",fontSize:"20px",fontWeight:"bold",cursor:"pointer"},children:"create group"}),Object(O.jsx)("button",{class:"childy",style:{width:"50rem",fontSize:"20px",height:"36px",fontWeight:"bold",cursor:"pointer"},children:"following"})]})]})]})});c(220);function oe(){return Object(O.jsx)("div",{class:"like-content",children:Object(O.jsxs)("button",{class:"btn-secondary like-review",children:[Object(O.jsx)("i",{class:"fa fa-heart","aria-hidden":"true"})," view"]})})}var ae=function(e){var t=e.description,c=e.group,n=e.users,o=e.id;return Object(O.jsx)("div",{children:Object(O.jsxs)(m.a,{style:{cursor:"pointer",position:"relative",borderRadius:"0px",border:"2px solid black",width:"30vw",left:"0.5rem"},children:[Object(O.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"column"},children:[Object(O.jsx)(f.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",style:{marginRight:"5px"}}),Object(O.jsx)(m.a.Title,{children:c}),Object(O.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:n.length}),Object(O.jsxs)(m.a.Text,{children:[" ",t," "]})]}),Object(O.jsx)(d.b,{to:"/group/".concat(o),children:Object(O.jsx)(y.a,{style:{background:"transparent",border:"none"},children:Object(O.jsx)(oe,{})})})]})})},se="https://spiel-server.herokuapp.com",re=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],o=t[1];Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(se,"/group")).then((function(e){console.log(e.data.group),o(e.data.group)})).catch((function(e){console.log("****************ERROR",e)}))}),[]);var a=function(e){p(localStorage.getItem("jwtToken")),h.a.delete("".concat(se,"/group/").concat(e)).then((function(e){console.log(" deleted ===>",e),o(e.data.group)})).catch((function(e){return console.log("===> Error",e)}))};return Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsxs)(v.a,{style:{position:"absolute",right:"30vw"},children:[Object(O.jsx)(v.a.Toggle,{variant:"none",id:"dropdown-basic",children:Object(O.jsx)(E.a,{pill:!0,bg:"dark",children:" Sort "})}),Object(O.jsxs)(v.a.Menu,{children:[Object(O.jsx)(v.a.Item,{href:"#/action-1",children:"All Groups"}),Object(O.jsx)(v.a.Item,{href:"#/action-2",children:"My groups"}),Object(O.jsx)(v.a.Item,{href:"#/action-3",children:"A-Z"})]})]}),Object(O.jsx)(T,{}),Object(O.jsx)(ne,{}),Object(O.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"6.4rem"},children:c.map((function(e,t){return Object(O.jsx)(ae,{groupFeed:c,groupDelete:a,id:e._id,users:e.users,group:e.groupName,description:e.description},t)}))})]})},le=(c(221),function(e){var t=e.group;return Object(O.jsxs)("div",{style:{position:"fixed",backgroundColor:"white",zIndex:"1",opacity:"90%",width:"29vw",top:"0px",border:"2px solid black"},children:[Object(O.jsxs)("p",{style:{fontWeight:"bold",fontSize:"25px",marginLeft:"10px"},children:["Welcome to ",t]}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(O.jsx)("button",{class:"childx",style:{width:"50rem",height:"36px",fontSize:"20px",fontWeight:"bold",cursor:"pointer"},children:"for you"}),Object(O.jsx)("button",{class:"childy",style:{width:"50rem",fontSize:"20px",height:"36px",fontWeight:"bold",cursor:"pointer"},children:"following"})]})]})}),ie="https://spiel-server.herokuapp.com",je=function(e){var t=o.a.useState(!1),c=Object(r.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)(!1),i=Object(r.a)(l,2),d=i[0],b=i[1],u=Object(n.useState)(!1),x=Object(r.a)(u,2),g=x[0],N=x[1],R=Object(n.useState)(),T=Object(r.a)(R,2),E=T[0],F=T[1],P=Object(j.h)().idx,D=e.user,L=D.name,z=D.id,B=Object(n.useState)(""),A=Object(r.a)(B,2),H=A[0],M=A[1],W=Object(n.useState)(""),Y=Object(r.a)(W,2),K=Y[0],V=Y[1],X=Object(n.useState)(""),$=Object(r.a)(X,2),ee=$[0],te=$[1],ce=Object(n.useState)([]),ne=Object(r.a)(ce,2),oe=ne[0],ae=ne[1],se=Object(n.useState)("/static/images/avatar/5.jpg"),re=Object(r.a)(se,2),je=re[0],de=(re[1],function(){return N(!1)}),be=function(){return N(!0)},ue=Object(j.g)();function he(e){ue.push("/spiel/post/".concat(e))}var pe=function(e){te(e.target.value)};var Oe=function(e){M(ee);var t={name:L,group:K,message:H};p(localStorage.getItem("jwtToken")),h.a.put("".concat(ie,"/spiel/").concat(e),t).then((function(e){console.log(e),console.log(" updated ===>",e)})).catch((function(e){return console.log("===> Error",e)}))};var xe=function(e){p(localStorage.getItem("jwtToken")),h.a.delete("".concat(ie,"/spiel/").concat(e)).then((function(e){console.log(" deleted ===>",e)})).catch((function(e){return console.log("===> Error",e)}))};Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(ie,"/group/").concat(P)).then((function(e){console.log(e),ae(e.data.groupSpiels),console.log("feed===>",e.data.groupSpiels),console.log("feed===>",oe),V(e.data.foundGroup.groupName),console.log(K)})).catch((function(e){console.log("****************ERROR",e)}))}),[]);return Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{onClick:function(e){!function(e){e.preventDefault();var t={idx:P};p(localStorage.getItem("jwtToken")),h.a.put("".concat(ie,"/users/").concat(z,"/group/").concat(P),t).then((function(e){h.a.put("".concat(ie,"/group/").concat(P,"/users/").concat(z)),console.log("===> Yay, a new user joined","user===>",z,"group===>",t),console.log(e),ae(e.data.spiel)})).catch((function(e){return console.log("===> Error",e)}))}(e),s(!0)},type:"submit",className:"btn btn-primary float-right",value:"Join ".concat(K)}),Object(O.jsx)(_.a,{sx:{width:"100%"},children:Object(O.jsx)(q.a,{in:a,children:Object(O.jsxs)(J.a,{action:Object(O.jsx)(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){s(!1)},children:Object(O.jsx)(Q.a,{fontSize:"inherit"})}),sx:{mb:2,zIndex:100,position:"absolute"},children:["You joined ",K,"!"]})})}),Object(O.jsx)(_.a,{sx:{width:"100%"},children:Object(O.jsx)(q.a,{in:d,children:Object(O.jsx)(J.a,{action:Object(O.jsx)(Z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){b(!1)},children:Object(O.jsx)(Q.a,{fontSize:"inherit"})}),sx:{mb:2,zIndex:100,position:"absolute"},children:"Post liked!"})})}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"6.5rem"},children:[Object(O.jsx)(le,{group:K}),Object(O.jsx)("div",{className:"card card-body",style:{borderRadius:"0px",border:"2px solid black",width:"29vw",justifySelf:"center",alignSelf:"center"},children:Object(O.jsxs)("form",{children:[Object(O.jsx)("div",{className:"form-group",children:Object(O.jsxs)(S.a,{children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(f.a,{alt:"Profile Picture",src:je})}),Object(O.jsx)(C.a,{primary:L}),Object(O.jsx)(C.a,{secondary:"group selected: ".concat(K)})]})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"message",name:"message",value:H,onChange:function(e){M(e.target.value)},className:"form-control"})}),Object(O.jsx)("input",{onClick:function(e){!function(e){e.preventDefault();var t={name:L,group:K,message:H};p(localStorage.getItem("jwtToken")),h.a.post("".concat(ie,"/spiel"),t).then((function(e){console.log("===> Yay, new spiel",e);var c=e.data.spielID;console.log("data",c),h.a.put("".concat(ie,"/group/").concat(K,"/spiels/").concat(c),t).then((function(e){console.log("responseY",e),he(c)})).catch((function(e){return console.log("===> Error",e)}))})).catch((function(e){return console.log("===> Error",e)}))}(e),function(e){console.log("func 2"),e.preventDefault();var t={name:L,group:K,message:H};p(localStorage.getItem("jwtToken")),h.a.put("".concat(ie,"/users/").concat(z),t).then((function(e){console.log("===> Yay, new spiel",t),console.log(e),ae(e.data)})).catch((function(e){return console.log("===> Error",e)}))}(e)},type:"submit",className:"btn btn-primary float-right",value:"spiel",style:{borderRadius:"110px",fontWeight:"bold"}})]})}),null===oe||void 0===oe?void 0:oe.map((function(e,t){return Object(O.jsxs)("div",{style:{justifySelf:"center",alignSelf:"center"},children:[Object(O.jsxs)(m.a,{style:{borderRadius:"0px",border:"2px solid black",width:"29vw"},children:[Object(O.jsxs)(v.a,{style:{position:"relative",left:"93%"},children:[Object(O.jsx)(v.a.Toggle,{variant:"failure",id:"dropdown-basic"}),Object(O.jsxs)(v.a.Menu,{children:[Object(O.jsx)(v.a.Item,{onClick:function(t){return he(e._id)},children:"See Post"}),(n=e.name,L===n?Object(O.jsx)(v.a.Item,{onClick:xe,children:"Delete"}):void 0),Object(O.jsx)(v.a.Item,{onClick:be,children:"Edit"})]})]}),Object(O.jsx)(f.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}),Object(O.jsx)(m.a.Title,{children:e.name}),Object(O.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:e.group}),Object(O.jsxs)(m.a.Text,{children:[" ",e.message," "]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:function(t){return c=e._id,void h.a.put("".concat(ie,"/spiel/").concat(c,"/like")).then((function(e){b(!0),console.log(e),console.log(" updated ===>",e)})).catch((function(e){return console.log("===> Error",e)}));var c},children:[Object(O.jsx)(U,{}),(h.a.get("".concat(ie,"/spiel/").concat(c)).then((function(e){F(e.data.spiel[0].likes)})).catch((function(e){return console.log("===> Error",e)})),Object(O.jsx)("p",{style:{color:"black",bottom:"20px",left:"5%",position:"absolute"},children:E}))]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:de,children:[" ",Object(O.jsx)(G,{})," "]})]})]}),Object(O.jsxs)(w.a,{show:g,onHide:de,children:[Object(O.jsx)(w.a.Header,{closeButton:!0,children:Object(O.jsx)(w.a.Title,{children:"Editing Spiel"})}),Object(O.jsx)(w.a.Body,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)("h1",{children:e.name}),Object(O.jsxs)(k.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(O.jsx)(k.a.Label,{children:"Message"}),Object(O.jsx)(k.a.Control,{onChange:pe,type:"Message",placeholder:"Enter Message"})]})]})}),Object(O.jsxs)(w.a.Footer,{children:[Object(O.jsx)(y.a,{variant:"secondary",onClick:de,children:"Close"}),Object(O.jsx)(y.a,{variant:"primary",onClick:Oe,children:"Save Changes"})]})]})]});var c,n}))]})]})},de=function(){return Object(O.jsx)("div",{children:"This is the chats page"})};function be(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],o=t[1],a=Object(n.useState)([]),s=Object(r.a)(a,2),l=s[0],i=s[1];return Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat("https://spiel-server.herokuapp.com","/group")).then((function(e){console.log(e.data.group),i(e.data.group)})).catch((function(e){console.log("****************ERROR",e)}))}),[]),Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)("input",{list:"data",onChange:function(e){return o(e.target.value)},placeholder:"Search"}),Object(O.jsx)("datalist",{id:"data",children:l.map((function(e){return Object(O.jsx)("option",{children:e.groupName})}))}),Object(O.jsx)("h1",{children:c})]})}var ue=c(258),he=c(270),pe=c(267),Oe=c(14),xe=c(273),ge=c(264),me=Object(Oe.a)("div")((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({width:"100%"},t.typography.body2),{},{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}));function fe(){var e=Object(O.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus id dignissim justo.\n     Nulla ut facilisis ligula. Interdum et malesuada fames ac ante ipsum primis in faucibus.\n     Sed malesuada lobortis pretium."});return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Account Settings"}),Object(O.jsxs)(me,{children:[e,Object(O.jsx)(xe.a,{children:"CENTER"}),e,Object(O.jsx)(xe.a,{textAlign:"left",children:"LEFT"}),e,Object(O.jsx)(xe.a,{textAlign:"right",children:"RIGHT"}),e,Object(O.jsx)(xe.a,{children:Object(O.jsx)(ge.a,{label:"CHIP"})}),e]})]})}var ve=Object(Oe.a)("div")((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({width:"100%"},t.typography.body2),{},{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}));function ye(){var e=Object(O.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus id dignissim justo.\n     Nulla ut facilisis ligula. Interdum et malesuada fames ac ante ipsum primis in faucibus.\n     Sed malesuada lobortis pretium."});return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Profile Settings"}),Object(O.jsxs)(ve,{children:[e,Object(O.jsx)(xe.a,{children:"CENTER"}),e,Object(O.jsx)(xe.a,{textAlign:"left",children:"LEFT"}),e,Object(O.jsx)(xe.a,{textAlign:"right",children:"RIGHT"}),e,Object(O.jsx)(xe.a,{children:Object(O.jsx)(ge.a,{label:"CHIP"})}),e]})]})}var ke=Object(Oe.a)("div")((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({width:"100%"},t.typography.body2),{},{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}));function we(){var e=Object(O.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus id dignissim justo.\n     Nulla ut facilisis ligula. Interdum et malesuada fames ac ante ipsum primis in faucibus.\n     Sed malesuada lobortis pretium."});return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Safety Settings"}),Object(O.jsxs)(ke,{children:[e,Object(O.jsx)(xe.a,{children:"CENTER"}),e,Object(O.jsx)(xe.a,{textAlign:"left",children:"LEFT"}),e,Object(O.jsx)(xe.a,{textAlign:"right",children:"RIGHT"}),e,Object(O.jsx)(xe.a,{children:Object(O.jsx)(ge.a,{label:"CHIP"})}),e]})]})}var Se=Object(Oe.a)("div")((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({width:"100%"},t.typography.body2),{},{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}));function Ce(){var e=Object(O.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus id dignissim justo.\n     Nulla ut facilisis ligula. Interdum et malesuada fames ac ante ipsum primis in faucibus.\n     Sed malesuada lobortis pretium."});return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Notification Settings"}),Object(O.jsxs)(Se,{children:[e,Object(O.jsx)(xe.a,{children:"CENTER"}),e,Object(O.jsx)(xe.a,{textAlign:"left",children:"LEFT"}),e,Object(O.jsx)(xe.a,{textAlign:"right",children:"RIGHT"}),e,Object(O.jsx)(xe.a,{children:Object(O.jsx)(ge.a,{label:"CHIP"})}),e]})]})}var Ie=Object(Oe.a)("div")((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({width:"100%"},t.typography.body2),{},{"& > :not(style) + :not(style)":{marginTop:t.spacing(2)}})}));function Ne(){var e=Object(O.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus id dignissim justo.\n     Nulla ut facilisis ligula. Interdum et malesuada fames ac ante ipsum primis in faucibus.\n     Sed malesuada lobortis pretium."});return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Chat Settings"}),Object(O.jsxs)(Ie,{children:[e,Object(O.jsx)(xe.a,{children:"CENTER"}),e,Object(O.jsx)(xe.a,{textAlign:"left",children:"LEFT"}),e,Object(O.jsx)(xe.a,{textAlign:"right",children:"RIGHT"}),e,Object(O.jsx)(xe.a,{children:Object(O.jsx)(ge.a,{label:"CHIP"})}),e]})]})}var Re=["children","value","index"];function Te(e){var t=e.children,c=e.value,n=e.index,o=Object(i.a)(e,Re);return Object(O.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:c!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),{},{children:c===n&&Object(O.jsx)(_.a,{sx:{p:3},children:Object(O.jsx)(pe.a,{children:t})})}))}function Ee(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Fe(){var e=o.a.useState(0),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(O.jsx)("div",{style:{display:"flex",marginLeft:"1.5rem",justifyContent:"center"},children:Object(O.jsxs)(_.a,{sx:{width:"33vw"},children:[Object(O.jsx)(_.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(O.jsxs)(ue.a,{value:c,onChange:function(e,t){n(t)},"aria-label":"basic tabs example",children:[Object(O.jsx)(he.a,Object(l.a)({label:"Account"},Ee(0))),Object(O.jsx)(he.a,Object(l.a)({label:"Profile"},Ee(1))),Object(O.jsx)(he.a,Object(l.a)({label:"Safety"},Ee(2))),Object(O.jsx)(he.a,Object(l.a)({label:"Notifications"},Ee(3))),Object(O.jsx)(he.a,Object(l.a)({label:"Chats"},Ee(4)))]})}),Object(O.jsx)(Te,{value:c,index:0,children:Object(O.jsx)(fe,{})}),Object(O.jsx)(Te,{value:c,index:1,children:Object(O.jsx)(ye,{})}),Object(O.jsx)(Te,{value:c,index:2,children:Object(O.jsx)(we,{})}),Object(O.jsx)(Te,{value:c,index:3,children:Object(O.jsx)(Ce,{})}),Object(O.jsx)(Te,{value:c,index:4,children:Object(O.jsx)(Ne,{})})]})})}var Pe=function(e){var t=e.commenterName,c=e.currentUser,n=e.group,o=e.message,a=Object(j.g)();return Object(O.jsx)("div",{children:Object(O.jsx)(m.a,{style:{borderRadius:"0px",width:"30vw",border:"2px solid black"},children:Object(O.jsxs)(m.a.Body,{children:[Object(O.jsx)(f.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",onClick:function(){t==c?a.push("/profile"):a.push("/users/".concat(t))}}),Object(O.jsx)(m.a.Title,{children:t}),Object(O.jsx)(m.a.Subtitle,{children:n}),Object(O.jsx)(m.a.Text,{children:o}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:function(){},children:[Object(O.jsx)(U,{}),function(){}]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]})})})},De=(c(224),function(){var e=Object(j.g)();return Object(O.jsx)("div",{style:{position:"fixed",backgroundColor:"white",zIndex:"1",opacity:"90%",width:"30vw",height:"10.5vh",top:"5.7vh",border:"2px solid black"},children:Object(O.jsxs)("p",{style:{fontWeight:"bold",fontSize:"25px",marginLeft:"10px"},children:[" ",Object(O.jsxs)("button",{style:{border:"none",backgroundColor:"white",color:"#8b45d6"},onClick:function(t){return e.push("/")},children:[Object(O.jsx)(M.d,{})," "]}),"Spiel "]})})});c(225);function Le(){return Object(O.jsx)("div",{class:"like-content",children:Object(O.jsxs)("button",{class:"btn-secondary like-review",children:[Object(O.jsx)("i",{class:"fa fa-heart","aria-hidden":"true"})," spiel"]})})}var ze=c(57),Be=c(164),Ge=function(){return Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",color:"#8b45d6",fontSize:"1.2rem",alignItems:"flex-end"},children:[Object(O.jsx)(N.a,{}),Object(O.jsx)(ze.b,{}),Object(O.jsx)(Be.a,{})]})},Ue="https://spiel-server.herokuapp.com",Ae=function(e){var t=e.poster,c=e.currentUser,o=e.group,a=Object(j.h)().id,s=Object(n.useState)(""),l=Object(r.a)(s,2),i=l[0],d=l[1],b=function(e,t,c,n){var o={name:e,group:c,comment:n};p(localStorage.getItem("jwtToken")),console.log("a;sdljfjsdka",n),h.a.post("".concat(Ue,"/comment/").concat(t),o).then((function(e){console.log(e),h.a.put("".concat(Ue,"/comment/").concat(t,"/comment")),console.log(" updated ===>",e)})).catch((function(e){return console.log("===> Error",e)}))};return Object(O.jsx)("div",{children:Object(O.jsxs)(m.a,{style:{cursor:"pointer",width:"30vw",borderRadius:"0px",border:"2px solid black",borderTop:"none",padding:"1rem"},children:[Object(O.jsxs)("p",{children:["replying to @",t]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(f.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}),Object(O.jsx)("form",{children:Object(O.jsx)("input",{onChange:function(e){console.log(e.target.value);var t=e.target.value;console.log("val",t),d(Object(O.jsx)(y.a,{variant:"primary",style:{background:"transparent",border:"none"},onClick:function(e){return b(c,a,o,t)},children:Object(O.jsx)(Le,{})})),console.log("new message",t)},type:"message",style:{width:"500px",fontSize:"20px",border:"none"}})})]}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(O.jsx)(Ge,{}),i]})]})})},He="https://spiel-server.herokuapp.com",Me=function(e){var t=e.currentUser.name,c=e.currentUser.id;console.log(t);var a=Object(n.useState)(!1),s=Object(r.a)(a,2),l=(s[0],s[1]),i=o.a.useState(!1),d=Object(r.a)(i,2),b=(d[0],d[1]),u=Object(n.useState)(),x=Object(r.a)(u,2),g=x[0],k=x[1],w=Object(n.useState)(),S=Object(r.a)(w,2),C=S[0],I=S[1],N=Object(n.useState)(),R=Object(r.a)(N,2),E=R[0],F=R[1],P=Object(n.useState)(),D=Object(r.a)(P,2),L=D[0],z=D[1],B=Object(n.useState)(),G=Object(r.a)(B,2),H=G[0],M=G[1],W=Object(n.useState)([]),Y=Object(r.a)(W,2),_=(Y[0],Y[1]),J=Object(n.useState)([]),Z=Object(r.a)(J,2),q=Z[0],K=Z[1],Q=e.handleDelete,V=Object(j.g)(),X=Object(j.h)();var $=function(){h.a.put("".concat(He,"/users/").concat(t,"/follow/").concat(C)).then((function(e){console.log(e),console.log(" updated ===>",e)})).catch((function(e){return console.log("===> Error",e)}))};return Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(He,"/spiel/").concat(X.id)).then((function(e){F(Object(O.jsx)(y.a,{style:{background:"transparent",border:"none"},onClick:$,children:Object(O.jsx)(A,{})})),console.log("responsedata",e.data.spiel),I(e.data.spiel.name),z(e.data.spiel.message),M(e.data.spiel.group),k(e.data.spiel.likes),_(e.data.spiel.comments),h.a.get("".concat(He,"/comment/findbyid/").concat(X.id)).then((function(e){K(e.data.comment),console.log(q)}))})).catch((function(e){console.log("****************ERROR",e)}))}),[]),Object(O.jsxs)("div",{style:{position:"absolute",width:"100vw",left:"0px"},children:[Object(O.jsx)(T,{id:c}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100vw",alignItems:"center"},children:[Object(O.jsx)(De,{}),Object(O.jsxs)(m.a,{style:{cursor:"pointer",marginTop:"6.2rem",width:"30vw",borderRadius:"0px",border:"2px solid black"},children:[Object(O.jsxs)(v.a,{style:{postion:"relative",left:"93%"},children:[Object(O.jsx)(v.a.Toggle,{variant:"failure",id:"dropdown-basic"}),void h.a.get("".concat(He,"/users/following/").concat(t)).then((function(e){for(var c=e.data.UserFollowing,n=0;n<(null===c||void 0===c?void 0:c.length);n++){if(c[n].name==C){F(!1);break}if(t==C){F(!1);break}console.log("names don't match")}})),Object(O.jsxs)(v.a.Menu,{children:[Object(O.jsx)(v.a.Item,{onClick:function(e){e.preventDefault(),Q(X.id)},children:"Delete"}),Object(O.jsx)(v.a.Item,{onClick:function(){return l(!0)},children:"Edit"})]})]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(f.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",onClick:function(){C==t?V.push("/profile"):V.push("/users/".concat(C))}}),Object(O.jsx)("div",{children:E})]}),Object(O.jsx)(m.a.Title,{children:C}),Object(O.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:H}),Object(O.jsxs)(m.a.Text,{children:[" ",L," "]}),Object(O.jsx)("div",{children:Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:function(){h.a.put("".concat(He,"/spiel/").concat(X.id,"/like")).then((function(e){b(!0),console.log(e),console.log(" updated ===>",e),h.a.put("".concat(He,"/users/").concat(t,"/likes/").concat(X.id)).then((function(e){console.log("response",e)}))})).catch((function(e){return console.log("===> Error",e)}))},children:[Object(O.jsx)(U,{}),function(){return h.a.get("".concat(He,"/spiel/").concat(X.id)).then((function(e){k(e.data.spiel[0].likes),console.log(g)})).catch((function(e){return console.log("===> Error",e)})),Object(O.jsx)("p",{style:{color:"black",bottom:"20px",left:"5%",position:"absolute"},children:g})}]})})]}),Object(O.jsx)(Ae,{poster:C,spielID:X.id,currentUser:t,group:H}),Object(O.jsx)(m.a,{style:{width:"30vw",borderRadius:"0px",border:"2px solid black",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(O.jsx)(m.a.Title,{children:"Replies"})}),null===q||void 0===q?void 0:q.map((function(e){return Object(O.jsx)(Pe,{commenterName:e.name,datePosted:e.date,group:e.group,message:e.message,likes:e.likes,cOnC:e.comments,ogPostId:e.spielID,currentUser:t})}))]})]})},We=function(e){var t="https://spiel-server.herokuapp.com",c=Object(n.useState)(),o=Object(r.a)(c,2),a=o[0],s=o[1],l=Object(n.useState)([]),i=Object(r.a)(l,2),d=i[0],b=i[1],u=Object(n.useState)([]),x=Object(r.a)(u,2),g=(x[0],x[1]),v=Object(n.useState)([]),k=Object(r.a)(v,2),w=(k[0],k[1]),S=Object(n.useState)([]),C=Object(r.a)(S,2),I=(C[0],C[1]),N=Object(n.useState)([]),R=Object(r.a)(N,2),T=(R[0],R[1]),E=Object(n.useState)(),F=Object(r.a)(E,2),P=F[0],D=F[1],L=Object(n.useState)(),z=Object(r.a)(L,2),H=z[0],Y=z[1],_=Object(j.g)(),J=Object(n.useState)([]),Z=Object(r.a)(J,2),q=Z[0],K=Z[1],Q=Object(j.h)().name;Object(n.useEffect)((function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(t,"/users/name/").concat(Q)).then((function(e){var t=e.data.user;Y(t[0]._id),b(t[0].spiels),g(t[0].followers),w(t[0].following),I(t[0].groups),T(t[0].likedPosts),s("Posts"),D(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:V,children:[Object(O.jsx)(U,{}),X]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]}))}))}),[]),Object(n.useEffect)((function(){var e=[];d.map((function(c){h.a.get("".concat(t,"/spiel/").concat(c)).then((function(t){e.push(t.data.spiel),K(e)}))}))}),[d]);var V=function(){},X=function(){},$=function(e){h.a.put("".concat(t,"/users/").concat(Q,"/follow/").concat(e)).then((function(e){console.log(e),console.log(" updated ===>",e)})).catch((function(e){return console.log("===> Error",e)}))};return Object(O.jsxs)("div",{style:{position:"absolute",width:"100vw",left:"2rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(W,{name:Q}),Object(O.jsx)(B,{currentFeed:q,selectedFeed:a,followingFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(t,"/users/following/").concat(Q)).then((function(e){K(e.data.UserFollowing),s("following"),D(Object(O.jsx)(y.a,{style:{background:"transparent",border:"none",position:"relative",left:"80%",bottom:"5rem"},onClick:function(t){return $(e.data.UserFollowers.name)},children:Object(O.jsx)(A,{})}))})).catch((function(e){console.log("****************ERROR",e)}))},followersFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(t,"/users/followers/").concat(Q)).then((function(e){console.log(e),K(e.data.UserFollowers),s("followers"),D(Object(O.jsx)(y.a,{style:{background:"transparent",border:"none",position:"relative",left:"80%",bottom:"5rem"},onClick:function(t){return $(e.data.UserFollowers.name)},children:Object(O.jsx)(A,{})}))})).catch((function(e){console.log("****************ERROR",e)}))},name:Q,regularFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(t,"/users/").concat(H,"/spiels")).then((function(e){K(e.data.Spiels),s("Posts"),console.log("response.data",e.data.Spiels),D(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:V,children:[Object(O.jsx)(U,{}),X]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]}))})).catch((function(e){console.log("****************ERROR",e)}))},commentFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(t,"/comment/").concat(Q)).then((function(e){K(e.data.comment),s("comments"),D(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:V,children:[Object(O.jsx)(U,{}),X]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]}))})).catch((function(e){console.log("****************ERROR",e)}))},likeFeed:function(){p(localStorage.getItem("jwtToken")),h.a.get("".concat(t,"/users/likes/").concat(H)).then((function(e){K(e.data.Spiels),s("likes"),D(Object(O.jsxs)("div",{children:[Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},onClick:V,children:[Object(O.jsx)(U,{}),X]}),Object(O.jsxs)(y.a,{style:{background:"transparent",border:"none"},children:[" ",Object(O.jsx)(G,{})," "]})]}))})).catch((function(e){console.log("****************ERROR",e)}))},groupFeed:function(e){p(localStorage.getItem("jwtToken")),h.a.get("".concat(t,"/users/groups/").concat(Q,"/groups")).then((function(t){console.log(t),K(t.data.groups),s("groups"),D(Object(O.jsxs)(y.a,{style:{position:"relative",left:"90%",background:"transparent",border:"none",color:"#8b45d6",fontSize:"1.5rem",margin:"none"},onClick:function(t){return _.push("/group/group/".concat(e))},children:[Object(O.jsx)(M.a,{}),X]})),console.log("response.data",t.data.Spiels)})).catch((function(e){console.log("****************ERROR",e)}))},id:H}),Object(O.jsx)("div",{className:"home",children:q?q.map((function(e){return Object(O.jsxs)("div",{children:["  ",Object(O.jsx)(m.a,{className:"spielFeed",style:{position:"relative",border:"1.8px solid black",borderRadius:"0px",width:"33vw",height:"15vh"},children:Object(O.jsxs)(m.a.Body,{children:[Object(O.jsxs)("div",{style:{display:"flex",position:"relative",bottom:"8px"},children:[Object(O.jsx)(f.a,{style:{marginRight:"7.5px",marginBottom:"5px"},alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}),Object(O.jsx)(m.a.Title,{children:e.name?e.name:e.groupName})]}),Object(O.jsxs)(m.a.Subtitle,{style:{position:"relative",bottom:"8px"},className:"mb-2 text-muted",children:[e.group?e.group:e.users?e.users.length+" users":e.bio,"  "]}),Object(O.jsx)(m.a.Text,{style:{position:"relative",bottom:"8px",marginBottom:"15px"},children:e.following?Object(O.jsxs)("p",{style:{fontWeight:"bold"},children:["following: ",e.following.length," ",Object(O.jsx)("br",{}),"followers: ",e.followers.length]}):e.message?e.message:e.spiels?e.spiels.length+" spiels":Object(O.jsx)("p",{children:"nothing to see here yet!"})}),Object(O.jsx)("div",{style:{position:"relative",bottom:"30px"},children:P})]})})]})})):Object(O.jsx)("p",{children:'"nothing to see here yet!"'})})]})},Ye=function(){return Object(O.jsx)("div",{style:{position:"relative",left:"-7rem",marginTop:"10px"},children:Object(O.jsx)(d.b,{className:"navbar-brand",to:"/",children:Object(O.jsx)("div",{style:{fontWeight:"bold",backgroundColor:"#8b45d6",fontSize:"20px",borderRadius:"200rem",color:"white",width:"3.5rem",height:"3.5rem",paddingLeft:"7px",paddingBottom:"20px"},children:"spiel"})})})},_e=(c(226),c(165)),Je=c(166),Ze=c(167),qe=c(70),Ke=c(271),Qe=c(272),Ve=function(e){var t=e.user,c=o.a.useState(!1),a=Object(r.a)(c,2),s=(a[0],a[1]),l=t.name,i=(t.id,t.email),j=(t.exp,Object(n.useState)(!1)),b=Object(r.a)(j,2),u=b[0],p=b[1],x=function(){return s(!0)},g=Object(n.useState)(),m=Object(r.a)(g,2),v=m[0],k=m[1],w=Object(n.useState)(),N=Object(r.a)(w,2),R=N[0],T=N[1],E=Object(n.useState)(),F=Object(r.a)(E,2),P=F[0],D=F[1],L=Object(n.useState)(),z=Object(r.a)(L,2),B=z[0],G=z[1],U=Object(n.useState)(),A=Object(r.a)(U,2),H=A[0],W=A[1],Y=Object(n.useState)(),_=Object(r.a)(Y,2),J=_[0],Z=_[1],q=Object(n.useState)(),K=Object(r.a)(q,2),Q=K[0],V=K[1],X=Object(n.useState)(),$=Object(r.a)(X,2),ee=$[0],te=$[1],ce=Object(n.useState)(),ne=Object(r.a)(ce,2),oe=ne[0],ae=ne[1],se=Object(n.useState)("/static/images/avatar/5.jpg"),re=Object(r.a)(se,2),le=re[0];re[1];return Object(n.useEffect)((function(){T(ze.c),D(_e.a),G(ze.d),W(M.b),Z(Je.a),V(ze.e),te(Ze.a),ae(M.e)}),[]),Object(n.useEffect)((function(){h.a.get("".concat("https://spiel-server.herokuapp.com","/notifications/").concat(l)).then((function(e){console.log(e),console.log("notif array",e),k(e.data.foundNotifs)}))}),[u]),Object(O.jsxs)("div",{style:{position:"fixed",left:"16.5%",top:"0%",zIndex:"100"},children:[Object(O.jsxs)("nav",{style:{display:"flex",flexDirection:"column",justifyContent:"normal",alignItems:"center",backgroundColor:"#F9FBFF",height:"100vw",width:"20rem"},children:[Object(O.jsx)(Ye,{}),e.isAuth?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("div",{className:"navdivs",children:Object(O.jsxs)(d.c,{className:"navlink",to:"/",children:[R,"Home"]})}),Object(O.jsx)("div",{className:"navdivs",children:Object(O.jsxs)(d.c,{className:"navlink",to:"/group",children:[ee,"Groups"]})}),Object(O.jsx)("div",{className:"navdivs",children:Object(O.jsxs)(d.c,{className:"navlink",onClick:function(){return p(!0)},to:"/",children:[P,"Notifications"]})}),Object(O.jsx)("div",{className:"navdivs",children:Object(O.jsxs)(d.c,{className:"navlink",to:"/",children:[B,"Messages"]})}),Object(O.jsx)("div",{className:"navdivs",children:Object(O.jsxs)(d.c,{className:"navlink",to:"/profile",children:[H,"Bookmarks"]})}),Object(O.jsx)("div",{className:"navdivs",children:Object(O.jsxs)(d.c,{className:"navlink",to:"/profile",children:[J,"Profile"]})}),Object(O.jsx)("div",{className:"navdivs",children:Object(O.jsxs)(d.c,{className:"navlink",to:"/settings",children:[Q,"Settings"]})})]}),Object(O.jsx)("div",{className:"logout",children:Object(O.jsx)(d.c,{style:{color:"white",textDecoration:"none",marginLeft:"27%",fontSize:"1.2rem"},onClick:e.handleLogout,to:"/login",children:"logout"})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.c,{className:"navlink",to:"/signup",children:[oe,"Create Account"]}),Object(O.jsx)(d.c,{className:"navlink",to:"/login",children:"Login"})]}),Object(O.jsx)(o.a.Fragment,{children:Object(O.jsxs)(S.a,{style:{marginTop:"15vh"},children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(f.a,{alt:"Profile Picture",src:le})}),Object(O.jsx)(C.a,{primary:l,secondary:i}),Object(O.jsx)(C.a,{primary:Object(O.jsx)(ze.a,{style:{fontSize:"2rem",marginBottom:"2rem"}})})]})})]}),Object(O.jsx)("div",{children:Object(O.jsxs)(qe.a,{show:u,onHide:function(){return p(!1)},children:[Object(O.jsx)(qe.a.Header,{closeButton:!0,children:Object(O.jsx)(qe.a.Title,{children:"Notifications"})}),Object(O.jsxs)(qe.a.Body,{children:[Object(O.jsx)(o.a.Fragment,{children:Object(O.jsxs)(Ke.a,{sx:{mb:2},children:[Object(O.jsx)(Qe.a,{sx:{bgcolor:"white"},children:"Today"}),null===v||void 0===v?void 0:v.map((function(e){return Object(O.jsx)(o.a.Fragment,{children:Object(O.jsxs)(S.a,{style:{border:"1px solid gray",marginBottom:"2px"},onClick:x,button:!0,children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(f.a,{alt:"Profile Picture",src:le})}),Object(O.jsx)(C.a,{primary:e.from,secondary:e.content})]})})}))]})}),Object(O.jsx)(d.c,{className:"nav-link",to:"/Chats",children:Object(O.jsx)(y.a,{variant:"dark",children:"See all"})})]})]})})]})},Xe=["component"],$e=function(e){var t=e.component,c=Object(i.a)(e,Xe),n=localStorage.getItem("jwtToken");return console.log("===> Hitting a Private Route"),Object(O.jsx)(j.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return n?Object(O.jsx)(t,Object(l.a)(Object(l.a)({},c),e)):Object(O.jsx)(j.a,{to:"/login"})}}))};var et=function(e){var t=Object(n.useState)(""),c=Object(r.a)(t,2),o=c[0],a=c[1],s=Object(n.useState)(!0),i=Object(r.a)(s,2),u=i[0],h=i[1];Object(n.useEffect)((function(){var e;localStorage.getItem("jwtToken")?(e=Object(b.a)(localStorage.getItem("jwtToken")),p(localStorage.getItem("jwtToken")),a(e)):(h(!1),console.log("====> Authenticated is now FALSE"))}),[]);var m=function(e){console.log("===> nowCurrent is here."),a(e),h(!0)},f=function(){localStorage.getItem("jwtToken")&&(localStorage.removeItem("jwtToken"),a(null),h(!1),j.a)};return Object(O.jsxs)(d.a,{children:[Object(O.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300&family=Roboto&family=Ubuntu:wght@300&display=swap');"}),Object(O.jsxs)("div",{className:"App",style:{fontFamily:"Montserrat"},children:[u?Object(O.jsx)(Ve,{isAuth:u,user:o,handleLogout:f}):null,u?Object(O.jsx)(T,{isAuth:u,user:o,handleLogout:f}):null,Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{path:"/signup",component:x}),Object(O.jsx)(j.b,{path:"/login",render:function(e){return Object(O.jsx)(g,Object(l.a)(Object(l.a)({},e),{},{nowCurrentUser:m,setIsAuthenticated:h,user:o}))}}),Object(O.jsx)($e,{path:"/profile",component:Y,user:o,handleLogout:f}),Object(O.jsx)($e,{exact:!0,path:"/",component:ce,user:o}),Object(O.jsx)($e,{exact:!0,path:"/usercard",component:T,user:o}),Object(O.jsx)(j.b,{exact:!0,path:"/group",component:re}),Object(O.jsx)($e,{exact:!0,path:"/group/:idx",user:o,component:je}),Object(O.jsx)($e,{exact:!0,path:"/spiel",component:X,user:o}),Object(O.jsx)(j.b,{path:"/Chats",component:de}),Object(O.jsx)(j.b,{path:"/Notifications",component:be}),Object(O.jsx)(j.b,{path:"/likebutton",component:U}),Object(O.jsx)(j.b,{path:"/Settings",component:Fe}),Object(O.jsx)($e,{exact:!0,path:"/users/:name",component:We}),Object(O.jsx)($e,{exact:!0,path:"/spiel/post/:id",component:Me,currentUser:o})]})})]})]})},tt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,274)).then((function(t){var c=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),o(e),a(e),s(e)}))};s.a.render(Object(O.jsx)(et,{}),document.getElementById("root")),tt()}},[[227,1,2]]]);
//# sourceMappingURL=main.b533e009.chunk.js.map